## 基本操作
* 安装 
    * ubuntu
        1. `curl -fsSL https://get.docker.com -o get-docker.sh`
        1. `sh get-docker.sh`
* docker服务命令`启动|状态|停止|重启`
    * init方式:`service docker start`
    * systemd:`systemctl start docker`
* docker镜像(只读)
    * 搜索镜像:`docker search IMAGE_NAME`:`IMAGE_NAME`表示镜像名称
    * 拉取镜像:`docker pull IMAGE_NAME[:TAG]`:`IMAGE_NAME`表示镜像名称,`TAG`表示镜像标签。省略`:TAG`时使用`latest`作为标签
    * 已安装镜像
        * `docker images`:已安装镜像列表(镜像ID截取前12位) 
        * `docker images --no-trunc`:已安装镜像列表(完整的镜像ID) 
    * 删除镜像(删除镜像前应该先删除基于此镜像启动的容器)
        * `docker rmi [-f] IMAGE_ID`:删除镜像id为`IMAGE_ID`的镜像,`-f`表示强制删除。
* docker容器(由镜像创建,容器可写,可打包为新的镜像) 
    * 创建、启动、执行命令、停止
        * 基本操作
            * 创建容器`docker create [--name=NAME] [OPTION] IMAGE_NAME[:TAG] [COMMAND]`
                * 参数
                    * `NAME`:指定容器名称 
                    * `OPTION`:操作参数
                        * `-it`:为具有交互能力的`COMMAND`开启一个交互式终端前台进程。如果`COMMAND`不具有交互能力,则此参数无效 
                        * `-d`:执行`COMMAND`后保持容器在后台运行(即使有交互式终端)
                    * `IMAGE_NAME[:TAG]`:`IMAGE_NAME`表示镜像名称,`TAG`表示镜像标签。省略`:TAG`时使用`latest`作为标签
                    * `COMMAND`:当容器启动时要在容器中执行的命令(此命令为主线程,当主线程的前台进程结束后容器停止运行)。省略此参数则使用容器内默认的终端作为执行命令
                * 已创建的容器:`docker ps -a [--no-trunc]`
                * 示例 
                    * `docker create busybox`。创建一个镜像名称为`busybox:latest`的容器
                    * `docker create --name=mybusy busybox`。创建一个镜像名称为`busybox:latest`的容器,并命名为`mybusy`
                    * `docker create busybox cal`。创建一个镜像名称为`busybox:latest`的容器并且容器启动时默认执行`cal`命令 
                    * `docker create -it ubuntu /bin/bash`。创建一个镜像名称为`ubuntu:latest`的容器并且容器启动时默认打开并保持交互式终端
            * 启动容器(不进入容器)
                * 启动`docker start CONTAINER_ID`,其中`CONTAINER_ID`表示容器ID或容器名称,多个容器ID或名称用空格分隔
                * 重启:`docker restart CONTAINER_ID`
                * 已启动的容器:`docker ps`
            * 容器执行命令:`docker exec [OPTION] CONTAINER_ID COMMAND`
                * 参数
                    * `OPTION`:同`创建容器`中的OPTION 
                    * `CONTAINER_ID`:容器ID 
                    * `COMMAND`:要执行的命令
                * 示例  
                    * `docker exec 0ffb9635db7f date`:在已经启动的容器中执行`date`命令 
                    * `docker exec -it 0ffb9635db7f /bin/bash`:在已经启动的容器中执行`/bin/bash`命令,并保持交互式终端开启状态
            * 停止容器
                * 安全停止:`docker stop CONTAINER_ID`
                * 强制停止:`docker kill CONTAINER_ID`
        * 组合操作 
            * 创建、运行、执行:`docker run [--name=NAME] [OPTION] IMAGE_NAME[:TAG] [COMMAND]`
                * 参数:同`创建容器`中的OPTION  
                * 示例 
                    * `docker run --name=mybusy busybox`。创建一个镜像名称为`busybox:latest`的容器,并命名为`mybusy`
                    * `docker run busybox cal`。创建一个镜像名称为`busybox:latest`的容器并在容器中执行`cal`命令 
                    * `docker run -it ubuntu /bin/bash`。创建一个镜像名称为`ubuntu:latest`的容器,并打开交互式终端进入容器
    * 容器配置
        * 端口映射
    * 常用示例
        * 创建容器:`sudo docker run -it ubuntu /bin/bash`。创建并进入
        * 启动容器:`sudo docker start 2c39efab0a2c`。当容器停止后启动
        * 进入容器:`sudo docker exec -it 2c39efab0a2c /bin/bash`。当容器在后台运行时进入
        * 停止容器:`sudo docker stop 2c39efab0a2c`。当容器正在运行时停止
