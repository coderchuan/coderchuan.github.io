## 活动记录
* 类名：`\yii\db\ActiveRecord`
* 继承：`\yii\db\BaseActiveRecord`、`\yii\base\Model`
* 定义时须继承的类：`\yii\db\ActiveRecord`
* [官方文档](https://www.yiichina.com/doc/api/2.0/yii-db-activerecord)
* 重要特性 
    * 初始化
        * 特点：在类被构造时自动调用
        * 形式：有两种，如下：
            ```php
            public function __construct($config = [])
            {
                //先调用父类的构造函数
                parent::__construct($config);
                //然后写初始化语句
                //...
            }
            ```
            ```php
            public function init()
            {
                //先调用父类的初始化函数 
                parent::init();
                //初始化语句
                //...
            }
            ```
    * 数据库
        * 成员变量
            * `public $tablePrefix`
                * 类型：string
                * 功能：表名前缀或后缀。如果表名指定为{{%TableName}}，则`%`将被替换为`tablePrefi_该属性值` 
                * 权限：读写
        * 成员函数
            * `public static string tableName()`
                * 功能：定义此活动记录类有关联的数据表
                * 参数：无
                * 返回值：string。应使用双层中括号(`{{}}`)包裹返回的值 
                    * 如果定义了此函数，则返回定义的字符串表名,自定义此函数时，可使用`%`,详见成员量变`tablePrefix`
                    * 未定义此函数，返回将此类名转换为`下划线命名法`后的字符串作为表名
            * `public static yii\db\Connection getDb()`
                * 功能：获取数据库连接
                * 参数：无
                * 返回值：返回数据库连接 
            * `public static yii\db\TableSchema getTableSchema()`
                * 功能：获取表结构信息
                * 参数：无
                * 返回值：返回表结构信息
    * 查
        * `public static yii\db\ActiveQuery find()`
            * 功能：查询数据,可定义此函数以获取查询的默认值。主要应用于为活动记录实例赋值提供数据
            * 参数：无
            * 返回值：`yii\db\ActiveQuery`。此类使用方法详见`活动查询生成器`
            * 例
                ```php 
                $model=new ArModel();
                $model=ArModel::find()->where(["username"=>"yang.chuan"])->one();
                $params=$model->toArray();
                print_r($params);
                ```
        
    * 增改删查
        * `public void afterSave($insert, $changedAttributes)`
            * 功能：增加新记录后执行此函数
            * 参数
                * `insert`:bool.插入记录后是否调用此方法
                    * `false`:更新时才调用此方法
                    * `true`:插入数据时调用此方法
                * `changedAttributes`:array.更改前的属性值
            * 返回值：无
        * `public void afterDelete()`
            * 功能：删除数据后执行此函数
            * 参数：无
            * 返回值：无
        * `public void afterFind()`
            * 功能：查询数据后执行此函数
            * 参数：无
            * 返回值：无
    * 刷新
        * `public void afterRefresh()`
            * 功能：活动记录被刷新后执行此函数
            * 参数：无
            * 返回值：无